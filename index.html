<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M3 at $dateFormat.format( $currentDate ) 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Reproducible Build Maven Plugin &#x2013; Introduction</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
                      <a href="https://github.com/zlika/reproducible-build-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Reproducible Build Maven Plugin</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li class=""><a href="index.html" title="Reproducible Build Maven Plugin">Reproducible Build Maven Plugin</a><span class="divider">/</span></li>
    <li class="active ">Introduction</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> $i18n.getString( "site-renderer", $locale, "template.lastpublished" ): $dateValue</li>
          <li id="projectVersion" class="pull-right">$i18n.getString( "site-renderer", $locale, "template.version" ): 0.16</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Overview</li>
    <li class="active"><a href="#"><span class="none"></span>Introduction</a>
  </li>
    <li><a href="plugin-info.html" title="Goals"><span class="none"></span>Goals</a>  </li>
    <li><a href="usage.html" title="Usage"><span class="none"></span>Usage</a>  </li>
    <li><a href="faq.html" title="FAQ"><span class="none"></span>FAQ</a>  </li>
          <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-down"></span>Project Information</a>
      <ul class="nav nav-list">
    <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a>  </li>
    <li><a href="dependency-info.html" title="Dependency Information"><span class="none"></span>Dependency Information</a>  </li>
    <li><a href="distribution-management.html" title="Distribution Management"><span class="none"></span>Distribution Management</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>About</a>
  </li>
    <li><a href="issue-management.html" title="Issue Management"><span class="none"></span>Issue Management</a>  </li>
    <li><a href="licenses.html" title="Licenses"><span class="none"></span>Licenses</a>  </li>
    <li><a href="plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a>  </li>
    <li><a href="plugins.html" title="Plugins"><span class="none"></span>Plugins</a>  </li>
    <li><a href="scm.html" title="Source Code Management"><span class="none"></span>Source Code Management</a>  </li>
    <li><a href="summary.html" title="Summary"><span class="none"></span>Summary</a>  </li>
    <li><a href="team.html" title="Team"><span class="none"></span>Team</a>  </li>
      </ul>
  </li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="$i18n.getString( "site-renderer", $locale, "template.builtby" ) Maven" class="poweredBy"><img class="builtBy" alt="$i18n.getString( "site-renderer", $locale, "template.builtby" ) Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<section>
<h1><a name="Reproducible_Build_Maven_Plugin"></a>Reproducible Build Maven Plugin</h1>
<p>Have you ever tried to compile twice the same sources with Maven and compared the hashes of the generated artifacts? They are not the same! Maven is not able to build an artifact in a real reproducible (i.e. byte-for-byte) way.</p>
<p><b>NOTE:</b> <i>Recent versions of the main Maven plugins have been modified to allow reproducible builds without the use of this plugin. See <a class="externalLink" href="https://maven.apache.org/guides/mini/guide-reproducible-builds.html">Configuring for Reproducible Builds</a> for more details.</i></p>
<p>This Maven plugin tries to strip &quot;non reproducible&quot; data from the generated artifacts. It follows the same goals as <a class="externalLink" href="https://wiki.debian.org/ReproducibleBuilds">Debian's Reproducible Builds project</a> but at the modest scale of a Maven project. You can also have a look at my Devoxx France 2016 talk &quot;<a class="externalLink" href="http://zlika.github.io/presentations/devoxx_fr_2016/reproducible-builds/slides_en.html">Bit-for-bit reproducible builds with Maven</a>&quot;.</p>
<p>Using this plugin is a no-brainer: simply add it to your pom and it will try to &quot;automagically&quot; make the build byte-for-byte reproducible.</p>
<p><b>NOTE:</b> <i>This plugin requires Java 8 or later.</i></p><section>
<h2><a name="Goals_Overview"></a>Goals Overview</h2>
<p>There are several goals:</p>
<ul>
<li>The &quot;strip-jar&quot; goal processes all the ZIP/JAR/WAR/EAR files found in the target repository and does the following things:
<ul>
<li>sorts ZIP entries by name,</li>
<li>replaces file timestamps in ZIP entries with a fixed value,</li>
<li>removes timestamps, user names and tool versions in MANIFEST.MF,</li>
<li>removes comments in pom.properties file (some of them can contain time/date).</li></ul></li></ul>
<p><b>NOTE:</b> <i>As of version 0.5, the &quot;strip-jar&quot; goal also processes TAR/TAR.GZ/TAR.BZ2 files.</i></p>
<ul>
<li>The &quot;strip-jaxb&quot; goal normalizes ObjectFactory.java files generated by the JAXB xjc tool (before JAXB 2.2.11, xjc generates ObjectFactory.java files where the methods are put in a non-predictable order, which produces non-reproductible class files. Cf. issue <a class="externalLink" href="https://java.net/jira/browse/JAXB-598">JAXB-598</a>).</li></ul>
<p>If you find other interesting sources of &quot;non reproducible&quot; data that this plugin could remove, please open a ticket in the bug tracker or send a pull request.</p>
<p>Please note that you must use the same compiler (and possibly Maven) version to get the same results. You can use the maven-enforcer-plugin for that, or use a tool like <a class="externalLink" href="https://github.com/Zlika/moot">moot</a> to download and use the JDK and Maven versions people need to use for the build.</p></section></section>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2015&#x2013;${currentYear}.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
